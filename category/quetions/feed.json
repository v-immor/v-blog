{
    "version": "https://jsonfeed.org/version/1",
    "title": "开发随笔 • All posts by \"quetions\" category",
    "description": "~虚拟建设者~",
    "home_page_url": "https://v-immor.github.io/v-blog",
    "items": [
        {
            "id": "https://v-immor.github.io/v-blog/posts/cc1b9611.html",
            "url": "https://v-immor.github.io/v-blog/posts/cc1b9611.html",
            "title": "JavaScript",
            "date_published": "2023-02-24T23:04:24.000Z",
            "content_html": "<h2 id=\"js-基础\"><a class=\"markdownIt-Anchor\" href=\"#js-基础\">#</a> JS 基础</h2>\n<ol>\n<li class=\"quiz fill\">\n<p>JS 的数据类型有哪些？</p>\n<blockquote>\n<ol>\n<li>基本数据类型 ( <code>string</code> 、 <code>number</code> 、 <code>boolean</code> 、 <code>null</code> 、 <code>undefined</code> 、 <code>symbol</code> 、 <code>bigInt</code> )</li>\n<li>引用数据类型（ <code>Object</code> 、 <code>Function</code> 、 <code>Date</code> 、 <code>Array</code> ）</li>\n<li>基本数据类型的存放在栈内存中，引用数据类型的引用指针存放于栈内存，内容存放于堆内存中。</li>\n</ol>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>JS 的继承方式，各种继承方式的优缺点及实现方式</p>\n<blockquote>\n<ul>\n<li>\n<ol>\n<li><code>原型链继承</code> ；2.  <code>借用构造函数继承</code> ；3.  <code>组合继承</code> ；4.  <code>原型式继承</code> ；5.  <code>寄生式继承</code> ；6.  <code>寄生组合式继承</code> ；</li>\n</ol>\n</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>JS 的执行环境和作用域、作用域链</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>new</code>  的原理和实现</p>\n<blockquote>\n<ul>\n<li>\n<p><code>new</code>  主要是将一个新对象的原型指向构造函数的原型，并在这个对象上注入属性后将其返回。</p>\n</li>\n<li>\n<p>实现  <code>new</code>  的步骤有</p>\n<ol>\n<li>创建一个新对象。</li>\n<li>把这个对象的原型指向构造函数的原型</li>\n<li>通过构造函数将属性初始化</li>\n<li>返回这个对象。</li>\n</ol>\n</li>\n</ul>\n</blockquote>\n<blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">myNew</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">constructor<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> obj <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  obj<span class=\"token punctuation\">.</span>__proto__ <span class=\"token operator\">=</span> constructor<span class=\"token punctuation\">.</span>prototype</pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token function\">constructor</span><span class=\"token punctuation\">.</span><span class=\"token function\">apply</span><span class=\"token punctuation\">(</span>obj<span class=\"token punctuation\">,</span> args<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">return</span> obj</pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>bind</code> 、 <code>call</code> 、 <code>apply</code>  的原理和实现</p>\n</li>\n<li class=\"quiz fill\">\n<p>什么是原型，什么是原型链？</p>\n<blockquote>\n<ul>\n<li>原型就是对象。JS 的对象系统是基于原型模式设计的，在原型模式里有一个原则是 “要得到一个对象，不是通过实例化类，而是找到一个对象作为原型并克隆这个对象。”</li>\n<li>原型链就是对象之间的关联，在 JS 中实例对象的  <code>__proto__</code>  会指向其构造函数的原型  <code>prototype</code> ，构造函数的原型对象的  <code>__protot__</code>  也会指向这个原型对象构造函数的  <code>prototype</code> ，一直到  <code>Object.prototype.__proto__</code>  为止，这种链式向上关联就是 <code>原型链 </code></li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>什么是闭包？</p>\n<blockquote>\n<ul>\n<li>闭包是指在函数内使用了非函数内的变量，导致这个变量无法在其作用域销毁时销毁的现象。</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>typeof</code>  和  <code>instanceOf</code>  的原理和区别</p>\n<blockquote>\n<ul>\n<li><code>typeof</code>  判断的是对象在内存上的存储类型， <code>instanceOf</code>  判断的是原型链上的原型。</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>什么是变量提升</p>\n<blockquote>\n<ul>\n<li>在变量未定义时就能够使用的现象就是 <code>变量提升</code></li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>this</code>  是什么？</p>\n</li>\n<li class=\"quiz fill\">\n<p>描述 JS 的事件循环？</p>\n</li>\n<li class=\"quiz fill\">\n<p>为什么 <strong>for</strong> 循环的性能比 <strong>forEach</strong> 高？</p>\n</li>\n<li class=\"quiz fill\">\n<p>描述一下 V8 引擎的 <code>垃圾回收机制</code> ，如何定位内存泄露？</p>\n</li>\n</ol>\n<h2 id=\"es6\"><a class=\"markdownIt-Anchor\" href=\"#es6\">#</a> ES6</h2>\n<ol start=\"0\">\n<li class=\"quiz fill\">\n<p>ES6 有哪些新特性？</p>\n<blockquote>\n<p>ES6 主要的新特性有</p>\n<ol>\n<li>拥有  <code>块级作用域</code>  的  <code>const</code>  和  <code>let</code></li>\n<li><code>箭头函数</code></li>\n<li>便捷操作对象、数组的 <code>扩展运算符</code></li>\n<li>用于处理异步任务的  <code>Promise</code></li>\n<li>定义类的  <code>Class</code>  语法糖</li>\n<li>比  <code>definePrototype</code>  更加安全友好的  <code>Proxy</code>  代理对象</li>\n<li>新的数据结构  <code>Set</code> 、 <code>WeakSet</code> 、 <code>Map</code> 、 <code>WeakMap</code></li>\n<li>新的基础数据类型  <code>Symbol</code></li>\n<li>一些数组方法…</li>\n</ol>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>var</code> 、 <code>const</code> 、 <code>let</code>  有什么区别？如何用 var 模拟 const 和 let？</p>\n<blockquote>\n<ol>\n<li><code>var</code>  定义的变量，可以在定义前使用，存在变量提升， <code>const</code>  和  <code>let</code>  定义的变量不能够在定义前使用，存在 <code>暂时性死区</code> 的概念。</li>\n<li><code>const</code>  定义的变量不能修改，  <code>let</code>  定义的变量可以修改。 <code>const</code>  的不能修改指的是栈中引用不能够修改，对内部的属性依旧是可以修改的。</li>\n<li><code>const</code>  和  <code>let</code>  声明的变量在同一作用域内不能重复声明， <code>var</code>  可以重复声明</li>\n</ol>\n</blockquote>\n<blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">var</span> _scope <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">var</span> _variables <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">let</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> _variables<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">var</span> property <span class=\"token operator\">=</span> _variables<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_scope<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnPropertype</span><span class=\"token punctuation\">(</span>property<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SyntaxError</span><span class=\"token punctuation\">(</span><span class=\"token string\">'存在重复声明`'</span> <span class=\"token operator\">+</span> key <span class=\"token operator\">+</span> <span class=\"token string\">'`变量'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>_scope<span class=\"token punctuation\">,</span> property<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token literal-property property\">configurable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>      <span class=\"token literal-property property\">enumerable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>        <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">ReferenceError</span><span class=\"token punctuation\">(</span><span class=\"token string\">'变量`'</span> <span class=\"token operator\">+</span> property <span class=\"token operator\">+</span> <span class=\"token string\">'`未定义'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">_checkScope</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">property</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>_scope<span class=\"token punctuation\">.</span><span class=\"token function\">hasOwnPropertype</span><span class=\"token punctuation\">(</span>property<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>    <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">SyntaxError</span><span class=\"token punctuation\">(</span><span class=\"token string\">'不可重复声明'</span> <span class=\"token operator\">+</span> key <span class=\"token operator\">+</span> <span class=\"token string\">'变量'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">_let</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>  <span class=\"token function\">_checkScope</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>  Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>_scope<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token literal-property property\">configurable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token literal-property property\">enumerable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>    <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>      <span class=\"token keyword\">return</span> value</pre></td></tr><tr><td data-num=\"33\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>    <span class=\"token function\">set</span><span class=\"token punctuation\">(</span>val<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>      value <span class=\"token operator\">=</span> val</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre></pre></td></tr><tr><td data-num=\"40\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">_const</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">name<span class=\"token punctuation\">,</span> value</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>  <span class=\"token function\">_checkScope</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre></pre></td></tr><tr><td data-num=\"43\"></td><td><pre>  Object<span class=\"token punctuation\">.</span><span class=\"token function\">defineProperty</span><span class=\"token punctuation\">(</span>_scope<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    <span class=\"token literal-property property\">configurable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>    <span class=\"token literal-property property\">enumerable</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>    <span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>      <span class=\"token keyword\">return</span> value</pre></td></tr><tr><td data-num=\"48\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre>    <span class=\"token function\">set</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">TypeError</span><span class=\"token punctuation\">(</span><span class=\"token string\">'不可修改变量'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"52\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"53\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>箭头函数</code> 和普通函数有什么区别？</p>\n<blockquote>\n<ul>\n<li>箭头函数没有  <code>this</code>  指向的烦恼</li>\n<li>箭头函数不能够作为构造函数使用，也就是不能够和  <code>new</code>  搭配使用</li>\n<li>箭头函数默认是一种匿名函数</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>什么是  <code>Promise</code> ?</p>\n<blockquote>\n<ul>\n<li><code>Promise</code>  是  <code>ECMAScript</code>  提出解决 JS 中 <code>回调地狱</code> 问题的异步编程方案。</li>\n<li><code>Promise</code>  认为任务执行后必然会存在一个结果， <code>成功</code>  / <code>失败</code> 。将任务的状态定义为  <code>pending</code> 、 <code>fulfilled</code> 、 <code>rejected</code>  三种状态，当任务从  <code>pending</code>  开始执行时，必然会到达  <code>fulfilled</code>  或者  <code>rejected</code>  的其中一个状态。</li>\n<li>通过  <code>Promise</code>  定义的异步任务，在  <code>EventLoop</code>  中属于 <code>微任务</code> ，会在当前循环中完成执行。</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>实现一个  <code>Promise</code> </p>\n</li>\n<li class=\"quiz fill\">\n<p>实现一下常见的  <code>Promise</code>  方法</p>\n</li>\n<li class=\"quiz fill\">\n<p>什么是  <code>Proxy</code> ？</p>\n</li>\n<li class=\"quiz fill\">\n<p>什么是  <code>Reflect</code> ？</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>Proxy</code>  和  <code>definePrototype</code>  的区别</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>Set</code> 、 <code>WeakSet</code> 、 <code>Map</code> 、 <code>WeakMap</code>  的区别</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>async</code> / <code>await</code>  和  <code>Promise</code>  的区别</p>\n</li>\n</ol>\n<h2 id=\"应用\"><a class=\"markdownIt-Anchor\" href=\"#应用\">#</a> 应用</h2>\n<ol>\n<li class=\"quiz fill\">\n<p>防抖和节流的区别，如何实现？</p>\n<blockquote>\n<ul>\n<li>防抖是指短时间内连续执行一个函数，只会产生一个有效执行。</li>\n<li>节流是指短时间内连续执行一个函数时，会以固定的频率产生有效执行。</li>\n<li>防抖常用于即时搜索，点击按钮中。</li>\n<li>节流常用于滚动事件、监听事件。</li>\n</ul>\n</blockquote>\n<blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">debounce</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">task<span class=\"token punctuation\">,</span> ms</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">let</span> timer <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    <span class=\"token keyword\">const</span> that <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    <span class=\"token keyword\">const</span> agrs <span class=\"token operator\">=</span> arguments</pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>timer<span class=\"token punctuation\">)</span> <span class=\"token function\">clearTimeout</span><span class=\"token punctuation\">(</span>timer<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>    timer <span class=\"token operator\">=</span> <span class=\"token function\">setTimeout</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">task</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span>that<span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>agrs<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> ms<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">throttle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">task<span class=\"token punctuation\">,</span> ms</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>  <span class=\"token keyword\">let</span> last <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>    <span class=\"token keyword\">const</span> now <span class=\"token operator\">=</span> <span class=\"token operator\">+</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>last <span class=\"token operator\">||</span> now <span class=\"token operator\">-</span> last <span class=\"token operator\">>=</span> ms<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      last <span class=\"token operator\">=</span> now</pre></td></tr><tr><td data-num=\"17\"></td><td><pre>      <span class=\"token function\">task</span><span class=\"token punctuation\">.</span><span class=\"token function\">call</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">this</span><span class=\"token punctuation\">,</span> <span class=\"token operator\">...</span>arguments<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>实现一个  <code>sleep</code>  函数</p>\n<blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 这种实现方式阻塞的是同步代码，阻塞了执行栈，是最接近 ms 的实现，还可以通过 Promise 实现</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">sleep</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">ms</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">const</span> now <span class=\"token operator\">=</span> <span class=\"token operator\">+</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>now <span class=\"token operator\">>=</span> <span class=\"token operator\">+</span><span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>实现一个  <code>add</code>  函数，满足  <code>add(1, 2, 3)</code>  和  <code>add(1)(2)(3)</code>  值相等（ <code>柯里化</code> ）</p>\n<blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">add</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> nums <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>arguments<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">fn</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>rest</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    nums<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>rest<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">return</span> fn</pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>  fn<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">toString</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> nums<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">pre<span class=\"token punctuation\">,</span> cur</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> pre <span class=\"token operator\">+</span> cur<span class=\"token punctuation\">,</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token keyword\">return</span> fn</pre></td></tr><tr><td data-num=\"12\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>实现一个  <code>compose</code>  函数</p>\n<blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">compose</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> tasks <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>arguments<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tasks<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">v</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> v</pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>tasks<span class=\"token punctuation\">.</span>length <span class=\"token operator\">===</span> <span class=\"token number\">1</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span> tasks<span class=\"token punctuation\">[</span><span class=\"token number\">0</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">const</span> first <span class=\"token operator\">=</span> tasks<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">return</span> tasks<span class=\"token punctuation\">.</span><span class=\"token function\">reduce</span><span class=\"token punctuation\">(</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token punctuation\">(</span><span class=\"token parameter\">pre<span class=\"token punctuation\">,</span> cur</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token operator\">...</span>args</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        <span class=\"token function\">cur</span><span class=\"token punctuation\">(</span><span class=\"token function\">pre</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>args<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    first</pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>实现一个  <code>flatten</code>  函数</p>\n<blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// 递归法</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">flatten</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">const</span> item <span class=\"token keyword\">of</span> arr<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>      res<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span><span class=\"token function\">flatten</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>      res<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>  <span class=\"token keyword\">return</span> res</pre></td></tr><tr><td data-num=\"14\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre><span class=\"token comment\">// 迭代法</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">flatten</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token keyword\">const</span> queue <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token operator\">...</span>arr<span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>  <span class=\"token keyword\">while</span> <span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>    <span class=\"token keyword\">const</span> f <span class=\"token operator\">=</span> queue<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>Array<span class=\"token punctuation\">.</span><span class=\"token function\">isArray</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> queue<span class=\"token punctuation\">.</span><span class=\"token function\">unshift</span><span class=\"token punctuation\">(</span><span class=\"token operator\">...</span>f<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre>    <span class=\"token keyword\">else</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>f<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>  <span class=\"token keyword\">return</span> res</pre></td></tr><tr><td data-num=\"28\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>JS 异步解决方案的发展历程以及优缺点</p>\n<blockquote>\n<ul>\n<li><code>回调函数</code>  -&gt;  <code>Promise</code>  -&gt;  <code>Generator</code>  -&gt;  <code>async/await</code></li>\n<li><code>回调地狱</code>  -&gt;  <code>链式地狱</code>  -&gt;  <code>语义古怪</code>  -&gt; 同步代码解决异步任务</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>Promise</code>  构造函数是同步执行还是异步执行，那么  <code>then</code>  方法呢？</p>\n<blockquote>\n<p>构造函数是同步执行的， <code>then</code>  是  <code>resolve</code>  调用后产生的微任务，属于异步执行</p>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'同步执行'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span><span class=\"token string\">'异步执行'</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr></table></figure></blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>实现一个异步任务并发调度函数</p>\n<blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">asyncScheudle</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tasks<span class=\"token punctuation\">,</span> limit <span class=\"token operator\">=</span> <span class=\"token number\">3</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> queue <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>  <span class=\"token keyword\">let</span> count <span class=\"token operator\">=</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Array</span><span class=\"token punctuation\">(</span>tasks<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token keyword\">let</span> idx <span class=\"token operator\">=</span> <span class=\"token number\">0</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Promise</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">resolve</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">function</span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">task<span class=\"token punctuation\">,</span> runIdx</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>      <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">asyncTask</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>        count <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>        <span class=\"token keyword\">try</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>          <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">task</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>          result<span class=\"token punctuation\">[</span>runIdx<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> res</pre></td></tr><tr><td data-num=\"15\"></td><td><pre>          idx <span class=\"token operator\">+=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>idx <span class=\"token operator\">===</span> tasks<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>          <span class=\"token keyword\">throw</span> error</pre></td></tr><tr><td data-num=\"19\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span> <span class=\"token keyword\">finally</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>          count <span class=\"token operator\">-=</span> <span class=\"token number\">1</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>          <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>queue<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> queue<span class=\"token punctuation\">.</span><span class=\"token function\">shift</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre>        <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>count <span class=\"token operator\">&lt;</span> limit<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>        <span class=\"token keyword\">return</span> <span class=\"token function\">asyncTask</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>      queue<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>asyncTask<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>    tasks<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tk<span class=\"token punctuation\">,</span> idx</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">run</span><span class=\"token punctuation\">(</span>tk<span class=\"token punctuation\">,</span> idx<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>实现 <code>数组转树</code> 和 <code>树转数组</code> 的方法</p>\n<blockquote>\n<figure class=\"highlight js\"><figcaption data-lang=\"JavaScript\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token comment\">// prettier-ignore</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre><span class=\"token keyword\">const</span> tree <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'string'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">children</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span><span class=\"token string\">'1-1'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'string-1'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">children</span><span class=\"token operator\">:</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span><span class=\"token string\">'1-1-1'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'string-1-1'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span><span class=\"token string\">'1-1-2'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'string-1-2'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span><span class=\"token string\">'1-2'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'string-2'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre></pre></td></tr><tr><td data-num=\"4\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">treeToArray</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">tree</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre></pre></td></tr><tr><td data-num=\"7\"></td><td><pre>  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">bfs</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">node<span class=\"token punctuation\">,</span> parent <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>    <span class=\"token keyword\">const</span> item <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span> <span class=\"token operator\">...</span>node<span class=\"token punctuation\">,</span> parent<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">parentId</span><span class=\"token operator\">:</span> parent <span class=\"token operator\">?</span> parent<span class=\"token punctuation\">.</span>id <span class=\"token operator\">:</span> <span class=\"token keyword\">null</span> <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    res<span class=\"token punctuation\">.</span><span class=\"token function\">push</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre></pre></td></tr><tr><td data-num=\"11\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span>children <span class=\"token operator\">&amp;&amp;</span> node<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>      node<span class=\"token punctuation\">.</span>children<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">item</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token function\">bfs</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">,</span> node<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre></pre></td></tr><tr><td data-num=\"16\"></td><td><pre>  <span class=\"token function\">bfs</span><span class=\"token punctuation\">(</span>tree<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre></pre></td></tr><tr><td data-num=\"18\"></td><td><pre>  <span class=\"token keyword\">return</span> res</pre></td></tr><tr><td data-num=\"19\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre></pre></td></tr><tr><td data-num=\"21\"></td><td><pre><span class=\"token comment\">// prettier-ignore</span></pre></td></tr><tr><td data-num=\"22\"></td><td><pre><span class=\"token keyword\">const</span> arr <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'string'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">parentId</span><span class=\"token operator\">:</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span><span class=\"token string\">'1-1'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'string-1'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">parentId</span><span class=\"token operator\">:</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span><span class=\"token string\">'1-1-1'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'string-1-1'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">parentId</span><span class=\"token operator\">:</span><span class=\"token string\">'1-1'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span><span class=\"token string\">'1-1-2'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'string-1-2'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">parentId</span><span class=\"token operator\">:</span><span class=\"token string\">'1-1'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#123;</span><span class=\"token literal-property property\">id</span><span class=\"token operator\">:</span><span class=\"token string\">'1-2'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span><span class=\"token string\">'string-2'</span><span class=\"token punctuation\">,</span><span class=\"token literal-property property\">parentId</span><span class=\"token operator\">:</span><span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">]</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre></pre></td></tr><tr><td data-num=\"24\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">arrayToTree</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">arr</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>  <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">buildTree</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">nodes<span class=\"token punctuation\">,</span> parentId <span class=\"token operator\">=</span> <span class=\"token keyword\">null</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>    <span class=\"token keyword\">return</span> nodes</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>      <span class=\"token punctuation\">.</span><span class=\"token function\">filter</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">node</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> node<span class=\"token punctuation\">.</span>parentId <span class=\"token operator\">===</span> parentId<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre>      <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">node</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>        <span class=\"token operator\">...</span>node<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>        parentId<span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre>        <span class=\"token literal-property property\">children</span><span class=\"token operator\">:</span> <span class=\"token function\">buildTree</span><span class=\"token punctuation\">(</span>nodes<span class=\"token punctuation\">,</span> node<span class=\"token punctuation\">.</span>id<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"33\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre></pre></td></tr><tr><td data-num=\"35\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token function\">buildTree</span><span class=\"token punctuation\">(</span>arr<span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"36\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></blockquote>\n</li>\n</ol>\n",
            "tags": [
                "面试"
            ]
        },
        {
            "id": "https://v-immor.github.io/v-blog/posts/b7e144d1.html",
            "url": "https://v-immor.github.io/v-blog/posts/b7e144d1.html",
            "title": "算法",
            "date_published": "2023-02-24T15:00:51.000Z",
            "content_html": "<h2 id=\"基础排序\"><a class=\"markdownIt-Anchor\" href=\"#基础排序\">#</a> 基础排序</h2>\n<h2 id=\"基础遍历\"><a class=\"markdownIt-Anchor\" href=\"#基础遍历\">#</a> 基础遍历</h2>\n<h2 id=\"回溯算法\"><a class=\"markdownIt-Anchor\" href=\"#回溯算法\">#</a> 回溯算法</h2>\n<h2 id=\"双指针\"><a class=\"markdownIt-Anchor\" href=\"#双指针\">#</a> 双指针</h2>\n<h2 id=\"动态规划\"><a class=\"markdownIt-Anchor\" href=\"#动态规划\">#</a> 动态规划</h2>\n<h2 id=\"贪心算法\"><a class=\"markdownIt-Anchor\" href=\"#贪心算法\">#</a> 贪心算法</h2>\n<h2 id=\"滑动窗口\"><a class=\"markdownIt-Anchor\" href=\"#滑动窗口\">#</a> 滑动窗口</h2>\n<h2 id=\"哈希表\"><a class=\"markdownIt-Anchor\" href=\"#哈希表\">#</a> 哈希表</h2>\n<h2 id=\"树操作\"><a class=\"markdownIt-Anchor\" href=\"#树操作\">#</a> 树操作</h2>\n<h2 id=\"链表操作\"><a class=\"markdownIt-Anchor\" href=\"#链表操作\">#</a> 链表操作</h2>\n",
            "tags": [
                "面试"
            ]
        },
        {
            "id": "https://v-immor.github.io/v-blog/posts/764f33bc.html",
            "url": "https://v-immor.github.io/v-blog/posts/764f33bc.html",
            "title": "工程化",
            "date_published": "2023-02-24T15:00:51.000Z",
            "content_html": "<h2 id=\"基础\"><a class=\"markdownIt-Anchor\" href=\"#基础\">#</a> 基础</h2>\n<ol>\n<li class=\"quiz fill\">\n<p>什么是 <code>模块化</code> ？有哪些标准？都有什么区别</p>\n</li>\n<li class=\"quiz fill\">\n<p>什么是 <code>工程化</code> ？</p>\n</li>\n</ol>\n<h2 id=\"npm\"><a class=\"markdownIt-Anchor\" href=\"#npm\">#</a> NPM</h2>\n<ol>\n<li class=\"quiz fill\">\n<p><code>npm</code>  的安装流程</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>npm</code> 、 <code>yarn</code> 、 <code>pnpm</code>  的区别</p>\n</li>\n<li class=\"quiz fill\">\n<p>为什么需要  <code>.lock</code>  文件，它的作用是什么</p>\n</li>\n</ol>\n<h2 id=\"webpack\"><a class=\"markdownIt-Anchor\" href=\"#webpack\">#</a> Webpack</h2>\n<ol start=\"0\">\n<li class=\"quiz fill\">\n<p><code>Webpack</code>  能做什么？</p>\n<blockquote>\n<ol>\n<li>模块打包。</li>\n<li>编译兼容。 -&gt; 通过  <code>webpack</code>  置入兼容代码可以将一些兼容代码隔离出项目，可以将浏览器无法理解的文件转换成可理解的文件。</li>\n<li>能力扩展。 -&gt; 通过  <code>webpack</code>  的插件机制，可以在实现代码兼容和模块化的基础上，实现 <code>按需加载</code> 、 <code>代码压缩</code> 、 <code>移除冗余代码</code> 等功能。</li>\n</ol>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>Webpack</code>  打包原理</p>\n<blockquote>\n<ul>\n<li>在  <code>webpack</code>  中会将所有文件都视为 <code>模块</code> ， <code>webpack</code>  的职责就是将这些 <code>模块</code> 经过  <code>loader</code>  的文件转换和  <code>plugin</code>  的处理打包输出成客户端可理解运行的静态资源。</li>\n<li><code>webpack</code>  的运行逻辑是</li>\n</ul>\n<ol>\n<li>初始化配置参数；</li>\n<li>通过配置参数，初始化  <code>Compiler</code>  对象，加载所有配置的插件，执行  <code>run()</code>  ，开始编译；</li>\n<li>确定入口模块，从入口模块开始，按顺序调用所有的  <code>loader</code>  对模块进行转换，并分析出模块的依赖关系，直到所有依赖的模块都经过这些处理。</li>\n<li>经过上一步的处理可以得到每个模块的翻译的最终内容，以及模块的依赖关系；</li>\n<li>根据模块的依赖关系，形成一个个  <code>Chunk</code>  内容，再把  <code>Chunk</code>  转化成文件，加入到输出列表。</li>\n<li>将上一步的输出列表，结合配置参数，确定输出的路径和文件名，写入到文件系统中。</li>\n</ol>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>plugin</code>  和  <code>loader</code>  的区别</p>\n<blockquote>\n<ol>\n<li><code>plugin</code>  会在  <code>Complier</code>  对象初始化的时候加载，在  <code>webpack</code>  运行的特定时期触发， <code>loader</code>  是在进行模块分析时按顺序执行，用于翻译转化文件。</li>\n<li><code>loader</code>  只用于文件转换， <code>plugin</code>  则基于 <code>发布-订阅</code> 模式，通过监听不同的事件，来执行不同的操作。</li>\n<li><code>loader</code>  的执行是同步的，上一个  <code>loader</code>  的执行结果会作为下一个  <code>loader</code>  的入参； <code>plugin</code>  则有同步和异步两种执行机制。</li>\n</ol>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>常用的  <code>loader</code>  和  <code>plugin</code>  有哪些？他们的作用分别是什么？</p>\n</li>\n<li class=\"quiz fill\">\n<p>描述  <code>Webpack</code>  的 <code>热更新</code> 原理</p>\n</li>\n<li class=\"quiz fill\">\n<p>什么是 <code>联邦模块</code> ？</p>\n</li>\n</ol>\n<h2 id=\"vite\"><a class=\"markdownIt-Anchor\" href=\"#vite\">#</a> Vite</h2>\n<ol>\n<li class=\"quiz fill\">\n<p><code>Vite</code>  是什么？</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>Vite</code>  的核心原理</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>Vite</code>  对比  <code>Webpack</code>  的优点和缺点</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>Vite</code>  能输出什么格式的代码</p>\n</li>\n</ol>\n<h2 id=\"rollup\"><a class=\"markdownIt-Anchor\" href=\"#rollup\">#</a> Rollup</h2>\n<ol>\n<li class=\"quiz fill\">\n<p><code>Rollup</code>  是什么？</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>Rollup</code>  的打包流程</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>Rollup</code>  的插件机制</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>Rollup</code>  常用的插件</p>\n</li>\n</ol>\n",
            "tags": [
                "面试"
            ]
        },
        {
            "id": "https://v-immor.github.io/v-blog/posts/50daec4.html",
            "url": "https://v-immor.github.io/v-blog/posts/50daec4.html",
            "title": "网络",
            "date_published": "2023-02-24T02:13:13.000Z",
            "content_html": "<h2 id=\"网络基础\"><a class=\"markdownIt-Anchor\" href=\"#网络基础\">#</a> 网络基础</h2>\n<ol start=\"0\">\n<li class=\"quiz fill\">\n<p>介绍一下  <code>七层网络模型</code>  和  <code>TCP/IP 四层概念模型</code> </p>\n</li>\n<li class=\"quiz fill\">\n<p><code>HTTP</code>  是什么？</p>\n<blockquote>\n<ul>\n<li>\n<p><code>HTTP</code>  是为了让客户端能够理解和呈现服务端发送的超文本内容，基于  <code>TCP/IP</code>  协议的应用层协议 <code>超文本传输协议</code> 。</p>\n</li>\n<li>\n<p><code>HTTP</code>  具有 <code>无状态</code> 、 <code>明文传输</code> 、 <code>报文灵活可扩展</code> 、 <code>可靠传输</code> 等特点。</p>\n</li>\n<li>\n<p><code>HTTP</code>  有一些缺陷：</p>\n<ol>\n<li><code>明文传输</code> 的特点导致 <code>数据传输的安全性欠缺</code> ；</li>\n<li>当使用  <code>HTTP/1</code>  时，一个 <strong>TCP 连接</strong> 同时只能处理一条请求，当前请求耗时过长会导致 <code>队头堵塞</code> 的问题；</li>\n<li>在需要保存上下文信息时， <code>无状态</code> 的特性会让网络开销增加；</li>\n</ol>\n</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>HTTP</code>  的组成部分有哪些？它的报文结构是怎样的？</p>\n<blockquote>\n<ul>\n<li><code>请求报文</code> 的组成部分 -&gt;  <code>状态行</code>  +  <code>请求头</code>  +  <code>消息主体</code></li>\n<li><code>响应报文</code> 的组成部分 -&gt;  <code>状态行</code>  +  <code>响应头</code>  +  <code>响应正文</code></li>\n<li><code>报文结构</code>\n<blockquote>\n<p>起始行 + 头部 + 空行 + 实体<br>\n请求报文的起始行：  <code>Method</code>  +  <code>Path</code>  +  <code>Version</code> <br>\n 响应报文的起始行：  <code>Version</code>  +  <code>Status</code>  +  <code>Status Content</code></p>\n</blockquote>\n</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>HTTP</code>  各个版本（1.0、1.1、2.0、3.0）的区别</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>HTTP</code>  有哪些请求方法？</p>\n<blockquote>\n<p><code>GET</code> 、 <code>POST</code> 、 <code>PUT</code> 、 <code>DELETE</code> 、 <code>OPTIONS</code> 、 <code>HEAD</code> 、 <code>CONNECT</code> 、 <code>PATCH</code> 、 <code>TRACE</code></p>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>GET</code>  和  <code>POST</code>  的区别</p>\n<blockquote>\n<ol>\n<li><code>GET</code>  会被浏览器主动缓存下来， <code>POST</code>  不会。</li>\n<li><code>GET</code>  的参数默认通过 URL 传参，并且会进行  <code>URL</code>  编码， <code>POST</code>  还可以在  <code>Body</code>  中进行传参，body 传参没有编码限制。</li>\n<li><code>GET</code>  常用于获取数据，请求是 <code>幂等</code> 的， <code>POST</code>  常用于数据操作，默认没有 <code>幂等性</code></li>\n<li><code>GET</code>  请求是一次性将报文都发送出去， <code>POST</code>  会先把  <code>header</code>  部分发出去，如果服务端响应了 100 状态才会把  <code>body</code>  部分发送出去。</li>\n</ol>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>HTTP/2</code>  的 <code>多路复用</code> 和  <code>HTTP/1.1</code>  的  <code>keep-alive</code>  的区别</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>HTTPS</code>  是什么</p>\n<blockquote>\n<ul>\n<li><code>HTTPS</code>  是基于  <code>HTTP</code>  协议上套的一层  <code>TLS</code>  协议，用于服务器的身份认证，让 <code>HTTP</code>  更加安全。</li>\n<li><code>HTTPS</code>  主要解决了 <code>服务器的身份认证</code> 、 <code>明文传输</code> 等问题。</li>\n<li><code>HTTPS</code>  具有以下特点：\n<ol>\n<li>可以让内容加密，避免中间服务器查看；</li>\n<li>通过  <code>HTTPS</code>  证书，验证用户访问的是否正确的服务器，避免被第三方  <code>DNS</code>  劫持到其他服务器；</li>\n</ol>\n</li>\n<li><code>TLS</code>  采用的是混合加密方式，先使用 <code>非对称加密</code> 方式建立起通信连接，通过 <code>对称加密</code> 的方式进行消息加密</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>HTTPS</code>  的握手过程</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>HTTPS</code>  的握手过程中，客户端如何验证证书的合法性</p>\n</li>\n<li class=\"quiz fill\">\n<p>介绍一下  <code>HTTPS</code>  的中间人攻击</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>TCP</code>  和  <code>UDP</code>  的区别？</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>TCP</code>  的三次握手和四次挥手</p>\n</li>\n<li class=\"quiz\">\n<p>A、B 机器正常连接后，B 机器突然重启，问 A 此时 处于 TCP 什么状态？</p>\n<ul class=\"options\">\n<li>SYN_SENT</li>\n<li>SYN_RCVD</li>\n<li>ESTABLISHED</li>\n<li>FIN_WAIT1</li>\n<li>CLOSE_WAIT</li>\n</ul>\n</li>\n<li class=\"quiz fill\">\n<p><code>HTTP/3</code>  为什么基于 UDP 实现？如何解决 UDP 的弊端</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>HTTP 状态码</code>  有哪些以及对应的含义</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>DNS</code>  的解析原理</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>Cookie</code>  是什么？</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>Cookie</code>  和  <code>Session</code> ，以及和  <code>Storage</code>  的区别？</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>跨域</code>  是什么？如何解决跨域</p>\n</li>\n<li class=\"quiz fill\">\n<p>什么是  <code>CSRF</code>  攻击，如何防范？</p>\n</li>\n<li class=\"quiz fill\">\n<p>什么是 <code>预请求</code> ？</p>\n</li>\n</ol>\n<h2 id=\"浏览器\"><a class=\"markdownIt-Anchor\" href=\"#浏览器\">#</a> 浏览器</h2>\n<ol>\n<li class=\"quiz fill\">\n<p>描述从输入 URL 到页面显示的过程</p>\n</li>\n<li class=\"quiz fill\">\n<p>浏览器一帧内做了什么</p>\n</li>\n<li class=\"quiz fill\">\n<p>描述一下浏览器的事件机制</p>\n</li>\n<li class=\"quiz fill\">\n<p>浏览器存储数据的方式有哪些</p>\n</li>\n<li class=\"quiz\" fill=\"\">\n<p>service worker 是什么</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>Web Worker</code>  是什么？</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>MessageChannel</code>  和  <code>window.postMessage</code> </p>\n</li>\n<li class=\"quiz fill\">\n<p>如何进行跨页签通信？</p>\n</li>\n</ol>\n",
            "tags": [
                "面试"
            ]
        },
        {
            "id": "https://v-immor.github.io/v-blog/posts/4a322b5b.html",
            "url": "https://v-immor.github.io/v-blog/posts/4a322b5b.html",
            "title": "React",
            "date_published": "2023-02-23T22:07:00.000Z",
            "content_html": "<h2 id=\"react-原理\"><a class=\"markdownIt-Anchor\" href=\"#react-原理\">#</a> React 原理</h2>\n<ol>\n<li class=\"quiz fill\">\n<p><code>React</code>  是什么？</p>\n<blockquote>\n<ol>\n<li><code>React</code>  是一个构建用户界面的 JS 库，具有 <code>声明式编程</code> 、 <code>组件化</code> 、 <code>跨平台</code> 的特点。</li>\n<li>声明式编程可以让开发者降低操作 DOM 的负担，组件化利于视图层的开发复用。</li>\n<li><code>React</code>  通过  <code>虚拟 DOM</code>  来描述真实 DOM 的结构，所以  <code>React</code>  具有跨平台的能力。</li>\n</ol>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>React</code>  的生命周期</p>\n<blockquote>\n<ul>\n<li><code>construtor</code>  -&gt;  <code>getDerivedStateFromProps</code>  -&gt;  <code>shouldComponentUpdate</code>  -&gt;  <code>render</code>  -&gt;  <code>getSnapshotBeforeUpdate</code>  -&gt;  <code>componentDidMount</code>  -&gt;  <code>componentDidUpdate</code>  -&gt;  <code>componentWillUnMount</code></li>\n<li>挂载时： <code>construtor</code>  -&gt;  <code>getDerivedStateFromProps</code>  -&gt;  <code>render</code>  -&gt;  <code>componentDidMount</code></li>\n<li>更新时： <code>getDerivedStateFromProps</code>  -&gt;  <code>shouldComponentUpdate</code>  -&gt;  <code>render</code>  -&gt;  <code>getSnapshotBeforeUpdate</code>  -&gt;  <code>componentDidUpdate</code></li>\n<li>卸载时： <code>componentWillUnMount</code></li>\n<li>从整个运行阶段来看，可分为  <code>Render</code>  阶段和  <code>Commit</code>  阶段</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>react</code>  和  <code>react-dom</code>  的区别</p>\n<blockquote>\n<p><code>react</code>  包中主要是导出应用开发所需要的函数， <code>react-dom</code>  是  <code>react</code>  的 web 平台的渲染器，正常应用开发只需要导入  <code>render</code>  函数即可</p>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>描述一下  <code>React 的 Fiber 架构</code> </p>\n<blockquote>\n<ul>\n<li><code>Fiber 架构</code> 是 React 团队主要是为了解决旧架构中同步更新不可中断导致阻塞渲染进程的问题提出的架构，它主要是重构 React 架构中的  <code>Reconcile</code>  层，并且增加了  <code>Schedule</code>  层来做任务的调度。</li>\n<li>在 Fiber 的运行机制里，Fiber 能够让 React 将同步更新中断，把主线程的控制权交回给浏览器控制，从而达到不阻塞浏览器渲染的目的；<br>\nReact 中的 Fiber 是一个 <code>多环的链表结构</code> ，链表的结构让 Fiber 在遍历中实现中断和恢复，通过 <code>子节点</code> 、 <code>父节点</code> 、 <code>同级节点</code> 的三个指针，来描述 DOM 的树结构。</li>\n<li>从 React 的运行逻辑来看，React 大体可以分为两个阶段： 1. 进行  <code>DIFF</code> ， <code>任务调度</code> 的  <code>Render</code>  阶段。 2. 将  <code>Render</code>  阶段产出的  <code>Fiber</code>  渲染到页面的  <code>Commit</code>  阶段。</li>\n<li>在 <strong>Render</strong> 阶段又分成  <code>Reconcile</code>  协调部分和  <code>Schedule</code>  任务调度部分。</li>\n</ul>\n<ul>\n<li><code>Reconcile</code>  主要是将 JSX 产出的 DOM 结构和当前 Fiber 结构进行深度优先遍历，判断是否要新增、删除、移动节点，并打上对应的操作标记  <code>effectTag</code> 。</li>\n<li><code>Schedule</code>  则是用来控制主线程让出机制的。通过判断在一帧中还剩余的时间是否足够执行一个宏任务，来决定是否进入到下一个更新工作或者让出主线程，等待主线程的下一次的空闲。\n<blockquote>\n<p>当有 Fiber 发生更新时， <code>Reconcile</code>  和  <code>Schedule</code>  会穿插执行， <code>Reconcile</code>  每一次循环前会通过  <code>Schedule</code>  的  <code>shouldYield()</code>  函数判断剩余时间是否足够执行任务，若足够就继续进行遍历工作，若不够就让出主线程进入下一个事件循环有足够时间时再执行任务。</p>\n</blockquote>\n</li>\n</ul>\n<ul>\n<li><strong>Commit</strong> 阶段主要的工作是将  <code>Render</code>  产出的有  <code>effectTag</code>  标记的 Fiber 根据不同的操作标记执行不同的 DOM 操作，并将 Fiber 上的所有的 <code>副作用函数</code> 进行处理。</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>描述一下  <code>React Diff</code>  的原理</p>\n<blockquote>\n<ul>\n<li>React 的 Diff 使用深度优先遍历算法，从上到下，从左到右进行递归遍历找出可复用的节点。</li>\n<li>和原本的 Diff 算法不同的地方是，React 设定了三种限制，将 Diff 算法的复杂度从  <code>O(n^3)</code>  降低至  <code>O(n)</code>  。</li>\n<li>这三种限制分别是\n<ol>\n<li>只对同级元素进行遍历，如果元素发生了跨级变动，则不会复用该元素。</li>\n<li>如果元素的类型发生变化，则直接销毁当前元素及其子孙元素，并新建元素及子孙元素。</li>\n<li>开发者可以通过 Key 让元素在渲染的时候保持稳定复用。</li>\n</ol>\n</li>\n<li>根据上面三种限制，React 会对 JSX 语法产生的 DOM 结构和当前渲染的 Fiber 结构经过两次遍历来完成  <code>fiber</code>  的更新。</li>\n<li>遍历的逻辑\n<ol>\n<li>一一对比  <code>vdom</code>  和  <code>fiber</code> ，如果可以复用则处理下一个节点的对比，否则结束遍历。\n<ul>\n<li>如果所有的  <code>vdom</code>  遍历完了，那就把  <code>fiber</code>  剩余的节点删掉。</li>\n<li>如果  <code>vdom</code>  有剩余，那就进行第二次遍历。</li>\n</ul>\n</li>\n<li>第二次遍历就是将剩余的  <code>fiber</code>  放到  <code>map</code>  里，继续遍历剩下的  <code>vdom</code> 。\n<ul>\n<li>如果可以复用就进行移动</li>\n<li>第二次遍历完后，将剩余的  <code>vdom</code>  进行新增、将剩余的  <code>fiber</code>  进行删除。</li>\n</ul>\n</li>\n</ol>\n</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>React 的 <code>合成事件</code> 是什么？</p>\n<blockquote>\n<ul>\n<li><code>React 合成事件</code>  是 React 为了抹平各平台 <code>事件 API</code>  的差异，根据 W3C 的 <code>事件机制规范</code> 实现的抽象跨平台事件机制。</li>\n<li>除了能够磨平不同平台的差异达到跨平台的能力外，还能够通过事件委托机制优化了内存开销，并且能够干预事件的分发来提升用户的体验。</li>\n<li>它和原生事件不同的主要区别是\n<ol>\n<li>命名方式不同，原生事件是全小写，合成事件是小驼峰</li>\n<li>原生事件可以指定绑定在具体元素上，合成事件是统一绑定在  <code>Root 元素</code>  上，在具体执行时才进行派发执行。</li>\n<li>原生事件组织冒泡的形式可以通过  <code>e.stopPropogation()</code>  或者  <code>return false</code> ，合成事件只能通过  <code>e.stopPropogation()</code></li>\n</ol>\n</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>React</code>  什么时候挂载的合成事件</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>React V17</code>  中为什么要移除事件池？</p>\n<blockquote>\n<ul>\n<li>在旧版中， <code>事件池</code> 是为了复用不同事件的事件对象，用来提升性能，并且在所有的事件对象在真正使用前都置为  <code>null</code> ，所以在旧版中，要在异步任务里访问到正确的事件对象就必须先执行  <code>e.persist()</code> 。</li>\n<li>在 17 的版本里，删除了事件池的优化操作，开发者就可以按照预期访问到正确的事件对象。</li>\n<li>为了保持兼容，17 版本的  <code>e.persist()</code>  也可以继续使用，不过没有效果而已。</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>多次调用  <code>click</code>  事件，在 document 上事件监听会执行几次？</p>\n<blockquote>\n<ul>\n<li>执行一次。因为 React 在注册监听函数不是单一的回调函数，而是  <code>dispatchEvent</code>  分发函数，所以即使是调用了多次也只会注册一次监听函数</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>React 的合成事件主要做了什么？</p>\n<blockquote>\n<ol>\n<li>事件绑定（注册、监听）</li>\n<li>事件触发（合成、分发）</li>\n</ol>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>React Hooks 的原理</p>\n<blockquote>\n<ul>\n<li>hooks 是 React 为了使函数组件也能够使用 React 的 state 或其他特性而设计的 <code>钩子函数</code> 。</li>\n<li>hook 在 Fiber 中存放于  <code>memoizedState</code>  属性中，是一个链表结构，通过  <code>next</code>  指针指向下一个 hook。</li>\n<li>如果  <code>memoizedState</code>  发生变化，会创建一个  <code>Update</code>  对象到  <code>updateQueue</code>  里。</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>React 是如何处理副作用的</p>\n</li>\n<li class=\"quiz fill\">\n<p>React  <code>class 组件</code>  和  <code>Hook 组件</code>  的区别</p>\n</li>\n<li class=\"quiz fill\">\n<p>setState 是同步的还是异步的</p>\n<blockquote>\n<ul>\n<li>没有启用  <code>Fiber</code>  架构时，在合成事件和生命周期钩子中是异步的，在 settimeout 、原生事件中是同步的。</li>\n<li>启用  <code>Fiber</code>  架构后都是异步更新的。</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>setState 的批量更新和 useState 的批量更新如何实现</p>\n</li>\n<li class=\"quiz fill\">\n<p>React 如何更新视图？( <code>dispatch</code>  如何实现视图更新)</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>useCallback</code>  和  <code>useMemo</code>  的区别</p>\n<blockquote>\n<ul>\n<li><code>useCallback</code>  和  <code>useMemo</code>  都是用于缓存的钩子，让函数和值具有稳定性。</li>\n<li>两个钩子第一个参数都是回调函数，第二个参数是一个依赖对象的数组， <code>useMemo</code>  的回调函数会在 render 函数执行时同步执行并返回值， <code>useCallback</code>  则是将回调函数进行缓存，等待调用。第二个参数就是决定回调函数是否更新的依赖对象数组，只要数组内的对象发生更新，回调函数就会更新。</li>\n<li><code>useMemo</code>  常用于缓存复杂的计算结果</li>\n<li><code>useCallback</code>  则是用于需要稳定函数的处理，比如 <code>防抖</code> 、 <code>节流</code> 的回调函数，滚动事件的监听函数。</li>\n<li><code>useMemo</code>  和  <code>useCallback</code>  都会存在闭包陷阱，若在内部使用了非依赖数组中的对象，则会无法获取最新的对象值。</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>useEffect</code>  和  <code>useLayoutEffect</code>  的区别</p>\n<blockquote>\n<ul>\n<li>执行时机不一样， <code>useLayoutEffect</code>  在 DOM 变更后 <code>同步触发</code> ， <code>useEffect</code>  在 DOM 变更前  <code>异步触发</code> 。</li>\n<li><code>useLayoutEffect</code>  同步触发会同步提交 DOM 的变化，所以在  <code>useLayoutEffect</code>  中修改状态只会触发一次  <code>render</code> ， <code>useEffect</code>  则会触发两次。</li>\n<li><code>useLayoutEffect</code>  会阻塞浏览器渲染。</li>\n<li><code>useLayoutEffect</code>  在服务端是不会执行的。</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>React 为什么要使用虚拟 DOM？虚拟 DOM 的原理？</p>\n<blockquote>\n<ul>\n<li>虚拟 DOM 就是 JS 对象，用 JS 对象去描述 DOM 的结构。</li>\n</ul>\n<ol>\n<li>为了实现跨平台能力。</li>\n<li>通过操作数据控制 UI 的渲染逻辑具有更强的表达能力，降低开发者的负担。</li>\n<li>预先在内存中找出更新的元素，再进行统一渲染可以降低频繁操作 DOM 消费。</li>\n</ol>\n<ul>\n<li>虚拟 DOM 的缺点是无法做到极致的性能优化，声明式驱动视图的更新和命令式让视图更新的中间过程还是具有一定消耗的。</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>React.lazy</code>  和  <code>Suspense</code>  的原理和实现</p>\n<blockquote>\n<ul>\n<li><code>lazy</code>  是借助  <code>import</code>  的动态加载实现的， <code>import</code>  的动态加载实现了  <code>Promise</code>  的规范。</li>\n<li><code>Suspense</code>  通过  <code>componentDidCatch</code>  来捕获  <code>lazy</code>  未加载成功时的渲染问题。</li>\n<li><code>lazy</code>  加载的组件必须使用  <code>Suspense</code>  包裹起来才能够正常使用。</li>\n</ul>\n</blockquote>\n<blockquote>\n<figure class=\"highlight tsx\"><figcaption data-lang=\"React TSX\"></figcaption><table><tr><td data-num=\"1\"></td><td><pre><span class=\"token keyword\">function</span> <span class=\"token function\">lazy</span><span class=\"token punctuation\">(</span><span class=\"token function-variable function\">fn</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token builtin\">Promise</span><span class=\"token operator\">&lt;</span><span class=\"token punctuation\">&#123;</span> <span class=\"token keyword\">default</span><span class=\"token operator\">:</span> <span class=\"token builtin\">any</span> <span class=\"token punctuation\">&#125;</span><span class=\"token operator\">></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"2\"></td><td><pre>  <span class=\"token keyword\">const</span> fetcher <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"3\"></td><td><pre>    status<span class=\"token operator\">:</span> <span class=\"token string\">'pending'</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"4\"></td><td><pre>    result<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"5\"></td><td><pre>    promise<span class=\"token operator\">:</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"6\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"7\"></td><td><pre></pre></td></tr><tr><td data-num=\"8\"></td><td><pre>  <span class=\"token keyword\">return</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Component</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"9\"></td><td><pre>    <span class=\"token keyword\">const</span> promise <span class=\"token operator\">=</span> <span class=\"token function\">fn</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"10\"></td><td><pre>    fetcher<span class=\"token punctuation\">.</span>promise <span class=\"token operator\">=</span> promise</pre></td></tr><tr><td data-num=\"11\"></td><td><pre></pre></td></tr><tr><td data-num=\"12\"></td><td><pre>    promise<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"13\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fetcher<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token string\">'pending'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"14\"></td><td><pre>        fetcher<span class=\"token punctuation\">.</span>status <span class=\"token operator\">=</span> <span class=\"token string\">'resolve'</span></pre></td></tr><tr><td data-num=\"15\"></td><td><pre>        fetcher<span class=\"token punctuation\">.</span>result <span class=\"token operator\">=</span> res<span class=\"token punctuation\">.</span>default</pre></td></tr><tr><td data-num=\"16\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"17\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"18\"></td><td><pre></pre></td></tr><tr><td data-num=\"19\"></td><td><pre>    React<span class=\"token punctuation\">.</span><span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"20\"></td><td><pre>      <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fetcher<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token string\">'pending'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"21\"></td><td><pre>        <span class=\"token keyword\">throw</span> fetcher</pre></td></tr><tr><td data-num=\"22\"></td><td><pre>      <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"23\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"24\"></td><td><pre></pre></td></tr><tr><td data-num=\"25\"></td><td><pre>    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>fetcher<span class=\"token punctuation\">.</span>status <span class=\"token operator\">===</span> <span class=\"token string\">'resolved'</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"26\"></td><td><pre>      <span class=\"token keyword\">return</span> fetcher<span class=\"token punctuation\">.</span>result</pre></td></tr><tr><td data-num=\"27\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"28\"></td><td><pre></pre></td></tr><tr><td data-num=\"29\"></td><td><pre>    <span class=\"token keyword\">return</span> <span class=\"token keyword\">null</span></pre></td></tr><tr><td data-num=\"30\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"31\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"32\"></td><td><pre></pre></td></tr><tr><td data-num=\"33\"></td><td><pre><span class=\"token keyword\">class</span> <span class=\"token class-name\">Suspense</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">React</span><span class=\"token punctuation\">.</span>PureComponent <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"34\"></td><td><pre>  <span class=\"token comment\">/**</pre></td></tr><tr><td data-num=\"35\"></td><td><pre>   * isRender 异步组件是否就绪，可以渲染</pre></td></tr><tr><td data-num=\"36\"></td><td><pre>   */</span></pre></td></tr><tr><td data-num=\"37\"></td><td><pre>  state <span class=\"token operator\">=</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"38\"></td><td><pre>    isRender<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span></pre></td></tr><tr><td data-num=\"39\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"40\"></td><td><pre></pre></td></tr><tr><td data-num=\"41\"></td><td><pre>  <span class=\"token function\">componentDidCatch</span><span class=\"token punctuation\">(</span>event<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"42\"></td><td><pre>    <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> isRender<span class=\"token operator\">:</span> <span class=\"token boolean\">false</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"43\"></td><td><pre></pre></td></tr><tr><td data-num=\"44\"></td><td><pre>    event<span class=\"token punctuation\">.</span>promise<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"45\"></td><td><pre>      <span class=\"token comment\">/* 数据请求后，渲染真实组件 */</span></pre></td></tr><tr><td data-num=\"46\"></td><td><pre>      <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span><span class=\"token function\">setState</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">&#123;</span> isRender<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span> <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"47\"></td><td><pre>    <span class=\"token punctuation\">&#125;</span><span class=\"token punctuation\">)</span></pre></td></tr><tr><td data-num=\"48\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"49\"></td><td><pre></pre></td></tr><tr><td data-num=\"50\"></td><td><pre>  <span class=\"token function\">render</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">&#123;</span></pre></td></tr><tr><td data-num=\"51\"></td><td><pre>    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> fallback<span class=\"token punctuation\">,</span> children <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>props</pre></td></tr><tr><td data-num=\"52\"></td><td><pre>    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">&#123;</span> isRender <span class=\"token punctuation\">&#125;</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">this</span><span class=\"token punctuation\">.</span>state</pre></td></tr><tr><td data-num=\"53\"></td><td><pre></pre></td></tr><tr><td data-num=\"54\"></td><td><pre>    <span class=\"token keyword\">return</span> isRender <span class=\"token operator\">?</span> children <span class=\"token operator\">:</span> fallback</pre></td></tr><tr><td data-num=\"55\"></td><td><pre>  <span class=\"token punctuation\">&#125;</span></pre></td></tr><tr><td data-num=\"56\"></td><td><pre><span class=\"token punctuation\">&#125;</span></pre></td></tr></table></figure></blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>React.Fragment</code>  的原理</p>\n</li>\n</ol>\n<h2 id=\"react-应用\"><a class=\"markdownIt-Anchor\" href=\"#react-应用\">#</a> React 应用</h2>\n<ol>\n<li class=\"quiz fill\">\n<p><code>useReducer</code>  和  <code>Redux</code>  的区别和优缺点</p>\n</li>\n<li class=\"quiz fill\">\n<p>如何解决  <code>useState</code> 、 <code>useEffect</code>  的闭包问题</p>\n</li>\n<li class=\"quiz fill\">\n<p>hook 为什么不能放在条件语句中</p>\n</li>\n</ol>\n<h2 id=\"react-技术生态\"><a class=\"markdownIt-Anchor\" href=\"#react-技术生态\">#</a> React 技术生态</h2>\n<ol>\n<li class=\"quiz fill\">\n<p><code>Redux</code>  的核心概念是？</p>\n<blockquote>\n<ul>\n<li><code>Redux</code>  的本质是 <code>发布-订阅</code> 模式的实现。</li>\n<li><code>Redux</code>  的核心思想是不产生副作用，数据状态 <code>可追踪</code> 、 <code>可回溯</code> 、 <code>可预测</code> 。</li>\n<li><code>Redux</code>  的基本流程是\n<ol>\n<li>将应用的状态放到一个  <code>Store</code>  集中管理。</li>\n<li>视图层通过不同的  <code>Action</code>  触发不同  <code>Reducer</code>  函数去更新  <code>Store</code>  中对应的  <code>state</code> 。</li>\n<li>视图层通过订阅  <code>Store</code>  的变化来更新视图层。</li>\n</ol>\n</li>\n<li><code>Redux</code>  的基本原则是\n<ol>\n<li>一个应用只能有一个数据源（store 唯一）。</li>\n<li>state 只读，只能通过  <code>action</code>  对象驱动  <code>reducer</code>  来修改 state。</li>\n<li>只能通过纯函数  <code>reducer</code>  来修改 store。</li>\n</ol>\n</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>Redux</code>  中的  <code>reducer</code>  为什么必须要返回一个新的对象？</p>\n<blockquote>\n<ul>\n<li>纯函数的基本概念是 <code>相同的输入始终输出始终相同</code> ，也就是说需要做到 <code>不修改输入参数</code> 、 <code>不调用不纯的函数</code> 、 <code>不执行有副作用的操作</code> 。根据这三个原则可以解释  <code>reducer</code>  为什么需要返回一个新对象，而不是在原来的对象中进行修改。</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>Redux</code>  为什么要把  <code>reducer</code>  设计为纯函数？</p>\n<blockquote>\n<ol>\n<li><code>Redux</code>  的定位是一个 <code>可追踪</code> 、 <code>可回溯</code> 、 <code>可预测</code> 的状态管理库，如果  <code>reducer</code>  不纯，异步的任务将会破坏  <code>Redux</code>  的三个基本原则。</li>\n</ol>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>Redux</code>  如何处理副作用 / 异步任务</p>\n<blockquote>\n<ul>\n<li><code>Redux</code>  处理异步任务主要通过中间件来完成。 <code>Redux</code>  的中间件是一个 <code>洋葱模型</code> 用来增强  <code>dispatch</code>  的能力。</li>\n<li><code>Redux</code>  处理异步的整体流程是：\n<ol>\n<li>异步任务开始前，通过  <code>action</code>  通知  <code>redux</code> 。</li>\n<li>异步任务结束后，再通过  <code>action</code>  通知  <code>redux</code> 。</li>\n<li>视图层通过订阅不同的状态来更新视图。</li>\n</ol>\n</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>useSelector</code>  的原理</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>redux-thunk</code>  和  <code>react-saga</code>  的区别</p>\n<blockquote>\n<ul>\n<li><code>thunk</code>  使用的是高阶函数的形式通过  <code>Promise</code>  来增强  <code>dispatch</code> 。</li>\n<li><code>saga</code>  则使用  <code>generator</code>  函数的形式增强  <code>dispatch</code> 。</li>\n<li>两者在写法上有较大的不同， <code>thunk</code>  会比较贴近业务开发， <code>saga</code>  的语义会更加清晰，耦合度会更加宽松，但写法相对比较复杂。</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>Redux</code>  和  <code>Mobx</code>  的区别是什么，使用场景</p>\n</li>\n<li class=\"quiz fill\">\n<p>原子状态库的原理是什么？</p>\n</li>\n<li class=\"quiz fill\">\n<p>原子类状态库和  <code>Redux</code> 、 <code>Mobx</code>  等状态库有什么区别</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>React-Query</code>  的原理是什么？</p>\n</li>\n<li class=\"quiz fill\">\n<p>什么是 <code>状态持久化</code> （数据持久化）？</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>React SSR</code>  的原理？</p>\n<blockquote>\n<ol>\n<li>在服务端调用  <code>renderString</code>  将组件和数据输出为  <code>HTML</code>  字符串，将这部分视图先交给浏览器进行渲染。</li>\n<li>在服务端通过在全局变量挂载服务端发生的状态变化，在客户端进行 <code>水合</code> 后更新页面，让客户端和服务端的状态保持一致。</li>\n</ol>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p><code>React-Route</code>  的原理？</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>Taro2</code>  的原理？</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>Taro3</code>  的原理？</p>\n</li>\n</ol>\n<h2 id=\"对比其他框架\"><a class=\"markdownIt-Anchor\" href=\"#对比其他框架\">#</a> 对比其他框架</h2>\n<ol>\n<li class=\"quiz fill\">\n<p><code>Vue Diff</code>  和  <code>React Diff</code>  有什么不同？</p>\n<blockquote>\n<ul>\n<li>Vue 的 Diff 采用的是双端 Diff，通过双端四次比较来确定节点是否可复用。</li>\n</ul>\n</blockquote>\n</li>\n<li class=\"quiz fill\">\n<p>为什么没有  <code>Vue Fiber</code> ？</p>\n</li>\n<li class=\"quiz fill\">\n<p><code>React</code>  和  <code>Vue</code>  的区别</p>\n</li>\n</ol>\n",
            "tags": [
                "面试"
            ]
        }
    ]
}